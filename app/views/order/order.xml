<Page navigatedTo="navigatedTo" loaded="onLoad">
	<Page.actionBar>
		<ActionBar>
			<ActionBar.actionItems>
				<ActionItem icon="res://pizzas" tap="backToList" iosPosition="right" />
			</ActionBar.actionItems>
		</ActionBar>
	</Page.actionBar>
	<ScrollView>
		<GridLayout id="orderedProductsTable" rows="auto,auto,auto,auto" columns="*,70,*,50">
			<Label row="0" col="0" text="Name" cssClass="th text-left bold" />
			<Label row="0" col="1" text="Qty" cssClass="th text-right bold" />
			<Label row="0" col="2" text="Subtotal" cssClass="th text-right bold" />

			<Repeater row="1" col="0" colSpan="4" items="{{ products }}">
				<Repeater.itemsLayout>
					<StackLayout />
				</Repeater.itemsLayout>
				<Repeater.itemTemplate>
					<GridLayout rows="auto" columns="*,70,*,50">
						<Label col="0" text="{{ name }}" textWrap="true" cssClass="text-left" />
						<Label col="1" text="{{ quantity }}" cssClass="text-right" />
						<Label col="2" text="{{ subtotal | money() }}" cssClass="text-right" />
						<Image col="3" src="res://delete" stretch="fill" tap="removeProduct" width="18" height="18" />
					</GridLayout>
				</Repeater.itemTemplate>
			</Repeater>

			<Label id="total-label" row="2" col="1" text="Total:" cssClass="text-right bold" />
			<Label id="total-value" row="2" col="2" text="{{ total | money() }}" cssClass="text-right bold" />

			<Button row="3" col="0" colSpan="2" text="Back" tap="backToList" />
			<Button row="3" col="2" colSpan="2" text="Send order" tap="sendOrder" />
		</GridLayout>
	</ScrollView>
</Page>